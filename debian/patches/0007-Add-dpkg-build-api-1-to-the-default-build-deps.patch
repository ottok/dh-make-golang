From: Andrea Pappacoda <andrea@pappacoda.it>
Date: Tue, 12 Aug 2025 12:50:31 +0200
Subject: Add dpkg-build-api (= 1) to the default build-deps

Closes: https://github.com/Debian/dh-make-golang/issues/289
---
 check_depends_test.go | 1 +
 template.go           | 1 +
 2 files changed, 2 insertions(+)

diff --git a/check_depends_test.go b/check_depends_test.go
index 0b32ee8..20ba330 100644
--- a/check_depends_test.go
+++ b/check_depends_test.go
@@ -18,6 +18,7 @@ Priority: optional
 Build-Depends:
  debhelper-compat (= 13),
  dh-sequence-golang,
+ dpkg-build-api (= 1),
  golang-any,
  golang-github-advancedlogic-goose-dev,
  golang-github-fatih-color-dev,
diff --git a/template.go b/template.go
index c489cde..b69b6db 100644
--- a/template.go
+++ b/template.go
@@ -200,6 +200,7 @@ func writeDebianControl(dir, gopkg, debsrc, debLib, debProg string, pkgType pack
 	builddeps := append([]string{
 		"debhelper-compat (= 13)",
 		"dh-sequence-golang",
+		"dpkg-build-api (= 1)",
 		"golang-any"},
 		dependencies...)
 	sort.Strings(builddeps)
